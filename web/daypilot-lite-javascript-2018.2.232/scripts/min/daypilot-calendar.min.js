/*
DayPilot Lite
Copyright (c) 2005 - 2018 Annpoint s.r.o.
http://www.daypilot.org/
Licensed under Apache Software License 2.0
Version: 2018.2.232-lite
*/
if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(){var $a=function(){};if(typeof DayPilot.Calendar!=='undefined'){return;};var DayPilotCalendar={};DayPilotCalendar.selectedCells=[];DayPilotCalendar.topSelectedCell=null;DayPilotCalendar.bottomSelectedCell=null;DayPilotCalendar.selecting=false;DayPilotCalendar.column=null;DayPilotCalendar.firstSelected=null;DayPilotCalendar.firstMousePos=null;DayPilotCalendar.originalMouse=null;DayPilotCalendar.originalHeight=null;DayPilotCalendar.originalTop=null;DayPilotCalendar.resizing=null;DayPilotCalendar.globalHandlers=false;DayPilotCalendar.moving=null;DayPilotCalendar.register=function($b){if(!DayPilotCalendar.registered){DayPilotCalendar.registered=[];};var r=DayPilotCalendar.registered;for(var i=0;i<r.length;i++){if(r[i]===$b){return;}};r.push($b);};DayPilotCalendar.unregister=function($b){var a=DayPilotCalendar.registered;if(!a){return;};var i=DayPilot.indexOf(a,$b);if(i===-1){return;};a.splice(i,1);};DayPilotCalendar.getCellsAbove=function($c){var $d=[];var c=DayPilotCalendar.getColumn($c);var tr=$c.parentNode;var $e=null;while(tr&&$e!==DayPilotCalendar.firstSelected){$e=tr.getElementsByTagName("td")[c];$d.push($e);tr=tr.previousSibling;while(tr&&tr.tagName!=="TR"){tr=tr.previousSibling;}};return $d;};DayPilotCalendar.getCellsBelow=function($c){var $d=[];var c=DayPilotCalendar.getColumn($c);var tr=$c.parentNode;var $e=null;while(tr&&$e!==DayPilotCalendar.firstSelected){$e=tr.getElementsByTagName("td")[c];$d.push($e);tr=tr.nextSibling;while(tr&&tr.tagName!=="TR"){tr=tr.nextSibling;}};return $d;};DayPilotCalendar.getColumn=function($c){var i=0;while($c.previousSibling){$c=$c.previousSibling;if($c.tagName==="TD"){i++;}};return i;};DayPilotCalendar.gUnload=function(ev){if(!DayPilotCalendar.registered){return;};var r=DayPilotCalendar.registered;for(var i=0;i<r.length;i++){var c=r[i];c.dispose();DayPilotCalendar.unregister(c);}};DayPilotCalendar.gMouseUp=function(e){if(DayPilotCalendar.resizing){if(!DayPilotCalendar.resizingShadow){DayPilotCalendar.resizing.style.cursor='default';document.body.style.cursor='default';DayPilotCalendar.resizing=null;return;};var $f=DayPilotCalendar.resizing.event;var $g=DayPilotCalendar.resizingShadow.clientHeight+4;var top=DayPilotCalendar.resizingShadow.offsetTop;var $h=DayPilotCalendar.resizing.dpBorder;DayPilotCalendar.deleteShadow(DayPilotCalendar.resizingShadow);DayPilotCalendar.resizingShadow=null;DayPilotCalendar.resizing.style.cursor='default';$f.calendar.nav.top.style.cursor='auto';DayPilotCalendar.resizing.onclick=null;DayPilotCalendar.resizing=null;$f.calendar.$1U($f,$g,top,$h);}else if(DayPilotCalendar.moving){if(!DayPilotCalendar.movingShadow){DayPilotCalendar.moving=null;document.body.style.cursor='default';return;};var top=DayPilotCalendar.movingShadow.offsetTop;DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);var $f=DayPilotCalendar.moving.event;var $i=DayPilotCalendar.movingShadow.column;DayPilotCalendar.moving=null;DayPilotCalendar.movingShadow=null;$f.calendar.nav.top.style.cursor='auto';var ev=e||window.event;$f.calendar.$1V($f,$i,top,ev);}else if(DayPilotCalendar.selecting&&DayPilotCalendar.topSelectedCell!==null){var $b=DayPilotCalendar.selecting.calendar;DayPilotCalendar.selecting=false;var $j=$b.getSelection();$b.$1W($j.start,$j.end);if($b.timeRangeSelectedHandling!=="Hold"&&$b.timeRangeSelectedHandling!=="HoldForever"){$a();}}else{DayPilotCalendar.selecting=false;}};DayPilotCalendar.deleteShadow=function($k){if(!$k){return;};if(!$k.parentNode){return;};$k.parentNode.removeChild($k);};DayPilotCalendar.moveShadow=function($l){var $k=DayPilotCalendar.movingShadow;var parent=$k.parentNode;parent.style.display='none';$k.parentNode.removeChild($k);$l.firstChild.appendChild($k);$k.style.left='0px';parent.style.display='';$k.style.width=(DayPilotCalendar.movingShadow.parentNode.offsetWidth+1)+'px';};DayPilotCalendar.Calendar=function(id){var $m=false;if(this instanceof DayPilotCalendar.Calendar&&!this.$1X){$m=true;this.$1X=true;};if(!$m){throw "DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";};var $b=this;this.uniqueID=null;this.v='2018.2.232-lite';this.id=id;this.clientName=id;this.cache={};this.cache.pixels={};this.elements={};this.elements.events=[];this.nav={};this.afterRender=function(){};this.fasterDispose=true;this.angularAutoApply=false;this.api=2;this.borderColor="#CED2CE";this.businessBeginsHour=9;this.businessEndsHour=18;this.cellHeight=20;this.columnMarginRight=5;this.cornerBackColor="#F3F3F9";this.$1Y=true;this.days=1;this.durationBarVisible=true;this.eventHeaderHeight=14;this.eventHeaderVisible=true;this.eventsLoadMethod="GET";this.headerHeight=20;this.height=300;this.heightSpec='BusinessHours';this.hideUntilInit=true;this.hourWidth=45;this.initScrollPos='Auto';this.loadingLabelText="Loading...";this.loadingLabelVisible=true;this.loadingLabelBackColor="ff0000";this.loadingLabelFontColor="#ffffff";this.loadingLabelFontFamily="Tahoma, Arial, Helvetica, sans-serif";this.loadingLabelFontSize="10pt";this.locale="en-us";this.selectedColor="#316AC5";this.showToolTip=true;this.startDate=new DayPilot.Date().getDatePart();this.cssClassPrefix="calendar_default";this.theme=null;this.timeFormat='Auto';this.visible=true;this.timeRangeSelectedHandling='Enabled';this.eventClickHandling='Enabled';this.eventResizeHandling='Update';this.eventMoveHandling='Update';this.eventDeleteHandling="Disabled";this.onBeforeEventRender=null;this.onEventClick=null;this.onEventClicked=null;this.onEventDelete=null;this.onEventDeleted=null;this.onEventMove=null;this.onEventMoved=null;this.onEventResize=null;this.onEventResized=null;this.onTimeRangeSelect=null;this.onTimeRangeSelected=null;this.clearSelection=function(){for(var j=0;j<DayPilotCalendar.selectedCells.length;j++){var $c=DayPilotCalendar.selectedCells[j];if($c){if($c.selected){DayPilot.de($c.selected);$c.firstChild&&($c.firstChild.style.display='');$c.selected=null;}}};DayPilotCalendar.selectedCells=[];};this._ie=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!==-1);this._ff=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Firefox")!==-1);this.$1Z=(function(){if(/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var v=new Number(RegExp.$1);return v>=10.5;};return false;})();this.$20=(function(){if(/AppleWebKit[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var v=new Number(RegExp.$1);return v>=522;};return false;})();this.cleanSelection=this.clearSelection;this.$21=function($n,$o,$p){var $q={};$q.action=$n;$q.parameters=$p;$q.data=$o;$q.header=this.$22();var $r="JSON"+DayPilot.JSON.stringify($q);__doPostBack($b.uniqueID,$r);};this.$23=function($n,$o,$p){if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};this.callbackTimeout=window.setTimeout(function(){$b.loadingStart();},100);var $q={};$q.action=$n;$q.parameters=$p;$q.data=$o;$q.header=this.$22();var $r="JSON"+DayPilot.JSON.stringify($q);if(this.backendUrl){DayPilot.request(this.backendUrl,this.$24,$r,this.ajaxError);}else if(typeof WebForm_DoCallback==='function'){WebForm_DoCallback(this.uniqueID,$r,this.$25,this.clientName,this.onCallbackError,true);}};this.onCallbackError=function($s,$t){alert("Error!\r\nResult: "+$s+"\r\nContext:"+$t);};this.dispose=function(){var c=$b;c.$26();c.nav.zoom.onmousemove=null;c.nav.scroll.root=null;DayPilot.pu(c.nav.loading);c.$27();c.$28();c.nav.select=null;c.nav.cornerRight=null;c.nav.scrollable=null;c.nav.zoom=null;c.nav.loading=null;c.nav.header=null;c.nav.hourTable=null;c.nav.scrolltop=null;c.nav.scroll=null;c.nav.main=null;c.nav.message=null;c.nav.messageClose=null;c.nav.top=null;DayPilotCalendar.unregister(c);};this.$29=function(){this.nav.top.dispose=this.dispose;};this.$24=function($u){$b.$25($u.responseText);};this.$22=function(){var h={};h.control="dpc";h.id=this.id;h.v=this.v;h.days=$b.days;h.startDate=$b.startDate;h.heightSpec=$b.heightSpec;h.businessBeginsHour=$b.businessBeginsHour;h.businessEndsHour=$b.businessEndsHour;h.hashes=$b.hashes;h.timeFormat=$b.timeFormat;h.viewType=$b.viewType;h.locale=$b.locale;return h;};this.$2a=function($v,$w){var $x=$v.parentNode;while($x&&$x.tagName!=="TD"){$x=$x.parentNode;};var $k=document.createElement('div');$k.setAttribute('unselectable','on');$k.style.position='absolute';$k.style.width=($v.offsetWidth)+'px';$k.style.height=($v.offsetHeight)+'px';$k.style.left=($v.offsetLeft)+'px';$k.style.top=($v.offsetTop)+'px';$k.style.boxSizing="border-box";$k.style.zIndex=101;$k.className=$b.$2b("_shadow");var $y=document.createElement("div");$y.className=$b.$2b("_shadow_inner");$k.appendChild($y);if($w&&false){$k.style.overflow='hidden';$k.style.fontSize=$v.style.fontSize;$k.style.fontFamily=$v.style.fontFamily;$k.style.color=$v.style.color;$k.innerHTML=$v.data.client.html();};$x.firstChild.appendChild($k);return $k;};this.$2c={};this.$2c.locale=function(){var $z=DayPilot.Locale.find($b.locale);if(!$z){return DayPilot.Locale.US;};return $z;};this.$2c.timeFormat=function(){if($b.timeFormat!=='Auto'){return $b.timeFormat;};return this.locale().timeFormat;};var $A=this.$2c;this.$25=function($s,$t){if($s&&$s.indexOf("$$$")===0){if(window.console){console.log("Error received from the server side: "+$s);}else{throw "Error received from the server side: "+$s;};return;};var $s=eval("("+$s+")");if($s.CallBackRedirect){document.location.href=$s.CallBackRedirect;return;};if($s.UpdateType==="None"){$b.loadingStop();$b.$2d();return;};$b.$26();if($s.UpdateType==="Full"){$b.columns=$s.Columns;$b.days=$s.Days;$b.startDate=new DayPilot.Date($s.StartDate);$b.heightSpec=$s.HeightSpec?$s.HeightSpec:$b.heightSpec;$b.businessBeginsHour=$s.BusinessBeginsHour?$s.BusinessBeginsHour:$b.businessBeginsHour;$b.businessEndsHour=$s.BusinessEndsHour?$s.BusinessEndsHour:$b.businessEndsHour;$b.headerDateFormat=$s.HeaderDateFormat?$s.HeaderDateFormat:$b.headerDateFormat;$b.viewType=$s.ViewType;$b.backColor=$s.BackColor?$s.BackColor:$b.backColor;$b.eventHeaderVisible=$s.EventHeaderVisible?$s.EventHeaderVisible:$b.eventHeaderVisible;$b.timeFormat=$s.TimeFormat?$s.TimeFormat:$b.timeFormat;$b.locale=$s.Locale?$s.Locale:$b.locale;$b.$2e();};if($s.Hashes){for(var $B in $s.Hashes){$b.hashes[$B]=$s.Hashes[$B];}};$b.events.list=$s.Events;$b.$2f();$b.$2g();if($s.UpdateType==="Full"){$b.$2h();$b.$2i();$b.$2j();$b.$2k();};$b.$2d();$b.$2l();$b.clearSelection();$b.afterRender($s.CallBackData,true);$b.loadingStop();};this.$2m=function(){return 24;};this.$2n=function(){if(this.businessBeginsHour>this.businessEndsHour){return 24-this.businessBeginsHour+this.businessEndsHour;}else{return this.businessEndsHour-this.businessBeginsHour;}};this.$2o=function(){return 48;};this.$2p=function(){return $b.api===2;};this.eventClickCallBack=function(e,$o){this.$23('EventClick',$o,e);};this.eventClickPostBack=function(e,$o){this.$21('EventClick',$o,e);};this.$2q=function(e){var $C=this;var e=$C.event;if($b.$2p()){var $D={};$D.e=e;$D.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventClick==='function'){$b.$2r.apply(function(){$b.onEventClick($D);});if($D.preventDefault.value){return;}};switch($b.eventClickHandling){case 'CallBack':$b.eventClickCallBack(e);break;case 'PostBack':$b.eventClickPostBack(e);break;};if(typeof $b.onEventClicked==='function'){$b.$2r.apply(function(){$b.onEventClicked($D);});}}else{switch($b.eventClickHandling){case 'PostBack':$b.eventClickPostBack(e);break;case 'CallBack':$b.eventClickCallBack(e);break;case 'JavaScript':$b.onEventClick(e);break;}}};this.eventDeleteCallBack=function(e,$o){this.$23('EventDelete',$o,e);};this.eventDeletePostBack=function(e,$o){this.$21('EventDelete',$o,e);};this.$2s=function(e){if($b.$2p()){var $D={};$D.e=e;$D.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventDelete==='function'){$b.$2r.apply(function(){$b.onEventDelete($D);});if($D.preventDefault.value){return;}};switch($b.eventDeleteHandling){case 'CallBack':$b.eventDeleteCallBack(e);break;case 'PostBack':$b.eventDeletePostBack(e);break;case 'Update':$b.events.remove(e);break;};if(typeof $b.onEventDeleted==='function'){$b.$2r.apply(function(){$b.onEventDeleted($D);});}}else{switch($b.eventDeleteHandling){case 'PostBack':$b.eventDeletePostBack(e);break;case 'CallBack':$b.eventDeleteCallBack(e);break;case 'JavaScript':$b.onEventDelete(e);break;}}};this.eventResizeCallBack=function(e,$E,$F,$o){if(!$E)throw 'newStart is null';if(!$F)throw 'newEnd is null';var $G={};$G.e=e;$G.newStart=$E;$G.newEnd=$F;this.$23('EventResize',$o,$G);};this.eventResizePostBack=function(e,$E,$F,$o){if(!$E)throw 'newStart is null';if(!$F)throw 'newEnd is null';var $G={};$G.e=e;$G.newStart=$E;$G.newEnd=$F;this.$21('EventResize',$o,$G);};this.$1U=function(e,$H,$I,$h){var $J=1;var $E=new Date();var $F=new Date();var $K=e.start();var end=e.end();if($h==='top'){var $L=$K.getDatePart();var $M=Math.floor(($I-$J)/$b.cellHeight);var $N=$M*30;var ts=$N*60*1000;$E=$L.addTime(ts);$F=e.end();}else if($h==='bottom'){var $L=end.getDatePart();var $M=Math.floor(($I+$H-$J)/$b.cellHeight);var $N=$M*30;var ts=$N*60*1000;$E=$K;$F=$L.addTime(ts);};if($b.$2p()){var $D={};$D.e=e;$D.newStart=$E;$D.newEnd=$F;$D.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventResize==='function'){$b.$2r.apply(function(){$b.onEventResize($D);});if($D.preventDefault.value){return;}};switch($b.eventResizeHandling){case 'PostBack':$b.eventResizePostBack(e,$E,$F);break;case 'CallBack':$b.eventResizeCallBack(e,$E,$F);break;case 'Update':e.start($E);e.end($F);$b.events.update(e);break;};if(typeof $b.onEventResized==='function'){$b.$2r.apply(function(){$b.onEventResized($D);});}}else{switch($b.eventResizeHandling){case 'PostBack':$b.eventResizePostBack(e,$E,$F);break;case 'CallBack':$b.eventResizeCallBack(e,$E,$F);break;case 'JavaScript':$b.onEventResize(e,$E,$F);break;}}};this.eventMovePostBack=function(e,$E,$F,$O,$o){if(!$E)throw 'newStart is null';if(!$F)throw 'newEnd is null';var $G={};$G.e=e;$G.newStart=$E;$G.newEnd=$F;this.$21('EventMove',$o,$G);};this.eventMoveCallBack=function(e,$E,$F,$O,$o){if(!$E)throw 'newStart is null';if(!$F)throw 'newEnd is null';var $G={};$G.e=e;$G.newStart=$E;$G.newEnd=$F;this.$23('EventMove',$o,$G);};this.$1V=function(e,$i,$I,ev){var $J=1;var $M=Math.floor(($I-$J)/$b.cellHeight);var $P=$M*30*60*1000;var $K=e.start();var end=e.end();var $L=new Date();if($K instanceof DayPilot.Date){$K=$K.toDate();};$L.setTime(Date.UTC($K.getUTCFullYear(),$K.getUTCMonth(),$K.getUTCDate()));var $Q=$K.getTime()-($L.getTime()+$K.getUTCHours()*3600*1000+Math.floor($K.getUTCMinutes()/30)*30*60*1000);var length=end.getTime()-$K.getTime();var $R=this.columns[$i];var $S=$R.Start.getTime();var $T=new Date();$T.setTime($S+$P+$Q);var $E=new DayPilot.Date($T);var $F=$E.addTime(length);if($b.$2p()){var $D={};$D.e=e;$D.newStart=$E;$D.newEnd=$F;$D.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventMove==='function'){$b.$2r.apply(function(){$b.onEventMove($D);});if($D.preventDefault.value){return;}};switch($b.eventMoveHandling){case 'PostBack':$b.eventMovePostBack(e,$E,$F,$R.Value);break;case 'CallBack':$b.eventMoveCallBack(e,$E,$F,$R.Value);break;case 'Update':e.start($E);e.end($F);$b.events.update(e);break;};if(typeof $b.onEventMoved==='function'){$b.$2r.apply(function(){$b.onEventMoved($D);});}}else{switch($b.eventMoveHandling){case 'PostBack':$b.eventMovePostBack(e,$E,$F,$R.Value);break;case 'CallBack':$b.eventMoveCallBack(e,$E,$F,$R.Value);break;case 'JavaScript':$b.onEventMove(e,$E,$F,$R.Value,false);break;}}};this.timeRangeSelectedPostBack=function($K,end,$U,$o){var $V={};$V.start=$K;$V.end=end;this.$21('TimeRangeSelected',$o,$V);};this.timeRangeSelectedCallBack=function($K,end,$U,$o){var $V={};$V.start=$K;$V.end=end;this.$23('TimeRangeSelected',$o,$V);};this.$1W=function($K,end){$K=new DayPilot.Date($K);end=new DayPilot.Date(end);if(this.$2p()){var $D={};$D.start=$K;$D.end=end;$D.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onTimeRangeSelect==='function'){$b.$2r.apply(function(){$b.onTimeRangeSelect($D);});if($D.preventDefault.value){return;}};switch($b.timeRangeSelectedHandling){case 'PostBack':$b.timeRangeSelectedPostBack($K,end);break;case 'CallBack':$b.timeRangeSelectedCallBack($K,end);break;};if(typeof $b.onTimeRangeSelected==='function'){$b.$2r.apply(function(){$b.onTimeRangeSelected($D);});}}else{switch($b.timeRangeSelectedHandling){case 'PostBack':$b.timeRangeSelectedPostBack($K,end);break;case 'CallBack':$b.timeRangeSelectedCallBack($K,end);break;case 'JavaScript':$b.onTimeRangeSelected($K,end);break;}}};this.$2t=function(ev){if(DayPilotCalendar.selecting){return;};if($b.timeRangeSelectedHandling==="Disabled"){return;};var $W=(window.event)?window.event.button:ev.which;if($W!==1&&$W!==0){return;};DayPilotCalendar.firstMousePos=DayPilot.mc(ev||window.event);DayPilotCalendar.selecting={};DayPilotCalendar.selecting.calendar=$b;if(DayPilotCalendar.selectedCells){$b.clearSelection();DayPilotCalendar.selectedCells=[];};DayPilotCalendar.column=DayPilotCalendar.getColumn(this);DayPilotCalendar.selectedCells.push(this);DayPilotCalendar.firstSelected=this;DayPilotCalendar.topSelectedCell=this;DayPilotCalendar.bottomSelectedCell=this;$b.$2u();return false;};this.$2u=function(){var $X=this.getSelection();for(var j=0;j<DayPilotCalendar.selectedCells.length;j++){var $c=DayPilotCalendar.selectedCells[j];if($c&&!$c.selected){var $Y=document.createElement("div");$Y.style.height=($b.cellHeight-1)+"px";$Y.style.backgroundColor=$b.selectedColor;$c.firstChild.style.display="none";$c.insertBefore($Y,$c.firstChild);$c.selected=$Y;}}};this.$2v=function(ev){if(typeof(DayPilotCalendar)==='undefined'){return;};if(!DayPilotCalendar.selecting){return;};var $Z=DayPilot.mc(ev||window.event);var $00=DayPilotCalendar.getColumn(this);if($00!==DayPilotCalendar.column){return;};$b.clearSelection();if($Z.y<DayPilotCalendar.firstMousePos.y){DayPilotCalendar.selectedCells=DayPilotCalendar.getCellsBelow(this);DayPilotCalendar.topSelectedCell=DayPilotCalendar.selectedCells[0];DayPilotCalendar.bottomSelectedCell=DayPilotCalendar.firstSelected;}else{DayPilotCalendar.selectedCells=DayPilotCalendar.getCellsAbove(this);DayPilotCalendar.topSelectedCell=DayPilotCalendar.firstSelected;DayPilotCalendar.bottomSelectedCell=DayPilotCalendar.selectedCells[0];};$b.$2u();};this.getSelection=function(){var $K=DayPilotCalendar.topSelectedCell.start;var end=DayPilotCalendar.bottomSelectedCell.end;return new DayPilot.Selection($K,end,null,$b);};this.$2w=function(ev){};this.$2e=function(){this.columns=this.$2x();for(var i=0;i<this.columns.length;i++){this.$2y(this.columns[i]);}};this.$2y=function($l){$l.Start=new DayPilot.Date($l.Start);$l.putIntoBlock=function(ep){for(var i=0;i<this.blocks.length;i++){var $01=this.blocks[i];if($01.overlapsWith(ep.part.top,ep.part.height)){$01.events.push(ep);$01.min=Math.min($01.min,ep.part.top);$01.max=Math.max($01.max,ep.part.top+ep.part.height);return i;}};var $01=[];$01.lines=[];$01.events=[];$01.overlapsWith=function($K,$02){var end=$K+$02-1;if(!(end<this.min||$K>this.max-1)){return true;};return false;};$01.putIntoLine=function(ep){var $03=this;for(var i=0;i<this.lines.length;i++){var $04=this.lines[i];if($04.isFree(ep.part.top,ep.part.height)){$04.push(ep);return i;}};var $04=[];$04.isFree=function($K,$02){var end=$K+$02-1;var $05=this.length;for(var i=0;i<$05;i++){var e=this[i];if(!(end<e.part.top||$K>e.part.top+e.part.height-1)){return false;}};return true;};$04.push(ep);this.lines.push($04);return this.lines.length-1;};$01.events.push(ep);$01.min=ep.part.top;$01.max=ep.part.top+ep.part.height;this.blocks.push($01);return this.blocks.length-1;};$l.putIntoLine=function(ep){var $03=this;for(var i=0;i<this.lines.length;i++){var $04=this.lines[i];if($04.isFree(ep.part.top,ep.part.height)){$04.push(ep);return i;}};var $04=[];$04.isFree=function($K,$02){var end=$K+$02-1;var $05=this.length;for(var i=0;i<$05;i++){var e=this[i];if(!(end<e.part.top||$K>e.part.top+e.part.height-1)){return false;}};return true;};$04.push(ep);this.lines.push($04);return this.lines.length-1;};};this.$2x=function(){var $06=[];var $K=this.startDate.getDatePart();var $07=this.days;switch(this.viewType){case "Day":$07=1;break;case "Week":$07=7;$K=$K.firstDayOfWeek($A.locale().weekStarts);break;case "WorkWeek":$07=5;$K=$K.firstDayOfWeek(1);break;};for(var i=0;i<$07;i++){var $08=$b.headerDateFormat?$b.headerDateFormat:$A.locale().datePattern;var $l={};$l.Start=$K.addDays(i);$l.Name=$l.Start.toString($08,$A.locale());$l.InnerHTML=$l.Name;$06.push($l);};return $06;};this.visibleStart=function(){return this.columns[0].Start;};this.visibleEnd=function(){var $05=this.columns.length-1;return this.columns[$05].Start.addDays(1);};this.$2b=function($09){var $0a=this.theme||this.cssClassPrefix;if($0a){return $0a+$09;}else{return "";}};this.$26=function(){if(this.elements.events){for(var i=0;i<this.elements.events.length;i++){var $Y=this.elements.events[i];var $v=$Y.event;if($v){$v.calendar=null;};$Y.onclick=null;$Y.onclickSave=null;$Y.onmouseover=null;$Y.onmouseout=null;$Y.onmousemove=null;$Y.onmousedown=null;if($Y.firstChild&&$Y.firstChild.firstChild&&$Y.firstChild.firstChild.tagName&&$Y.firstChild.firstChild.tagName.toUpperCase()==='IMG'){var $0b=$Y.firstChild.firstChild;$0b.onmousedown=null;$0b.onmousemove=null;$0b.onclick=null;};$Y.helper=null;$Y.data=null;$Y.event=null;DayPilot.de($Y);}};this.elements.events=[];};this.$2z=function(e){var $o=e.cache||e.data;var $0c=this.nav.events;var $0d=true;var $0e=true;var $0f=false;var $Y=document.createElement("div");$Y.style.position='absolute';$Y.style.left=e.part.left+'%';$Y.style.top=(e.part.top)+'px';$Y.style.width=e.part.width+'%';$Y.style.height=Math.max(e.part.height,2)+'px';$Y.style.overflow='hidden';$Y.data=e;$Y.event=e;$Y.unselectable='on';$Y.style.MozUserSelect='none';$Y.style.KhtmlUserSelect='none';$Y.className=this.$2b("_event");if($o.cssClass){DayPilot.Util.addClass($Y,$o.cssClass);};$Y.isFirst=e.part.start.getTime()===e.start().getTime();$Y.isLast=e.part.end.getTime()===e.end().getTime();$Y.onclick=this.$2q;$Y.onmouseout=function(ev){if($Y.deleteIcon){$Y.deleteIcon.style.display="none";}};$Y.onmousemove=function(ev){var $0g=5;var $0h=$b.eventHeaderVisible?($b.eventHeaderHeight):10;if(typeof(DayPilotCalendar)==='undefined'){return;};var $0i=DayPilot.mo3($Y,ev);if(!$0i){return;};if(DayPilotCalendar.resizing||DayPilotCalendar.moving){return;};if($Y.deleteIcon){$Y.deleteIcon.style.display="";};var $0j=this.isLast;if($0i.y<=$0h&&$b.eventResizeHandling!=='Disabled'){this.style.cursor="n-resize";this.dpBorder='top';}else if(this.offsetHeight-$0i.y<=$0g&&$b.eventResizeHandling!=='Disabled'){if($0j){this.style.cursor="s-resize";this.dpBorder='bottom';}else{this.style.cursor='not-allowed';}}else if(!DayPilotCalendar.resizing&&!DayPilotCalendar.moving){if($b.eventClickHandling!=='Disabled'){this.style.cursor='pointer';}else{this.style.cursor='default';}}};$Y.onmousedown=function(ev){ev=ev||window.event;var $W=ev.which||ev.button;if((this.style.cursor==='n-resize'||this.style.cursor==='s-resize')&&$W===1){DayPilotCalendar.resizing=this;DayPilotCalendar.originalMouse=DayPilot.mc(ev);DayPilotCalendar.originalHeight=this.offsetHeight;DayPilotCalendar.originalTop=this.offsetTop;$b.nav.top.style.cursor=this.style.cursor;}else if($W===1&&$b.eventMoveHandling!=='Disabled'){DayPilotCalendar.moving=this;DayPilotCalendar.moving.event=this.event;var $0k=DayPilotCalendar.moving.helper={};$0k.oldColumn=$b.columns[this.data.part.dayIndex].Value;DayPilotCalendar.originalMouse=DayPilot.mc(ev);DayPilotCalendar.originalTop=this.offsetTop;var $0i=DayPilot.mo3(this,ev);if($0i){DayPilotCalendar.moveOffsetY=$0i.y;}else{DayPilotCalendar.moveOffsetY=0;};$b.nav.top.style.cursor='move';};return false;};var $y=document.createElement("div");$y.setAttribute("unselectable","on");$y.className=$b.$2b("_event_inner");$y.innerHTML=e.client.html();if($o.borderColor){$y.style.borderColor=$o.borderColor;};if($o.backColor){$y.style.background=$o.backColor;if(DayPilot.browser.ie9||DayPilot.browser.ielt9){$y.style.filter='';}};if($o.fontColor){$y.style.color=$o.fontColor;};$Y.appendChild($y);if(e.client.barVisible()){var $g=e.part.height-2;var $0l=100*e.part.barTop/$g;var $0m=Math.ceil(100*e.part.barHeight/$g);var $0n=document.createElement("div");$0n.setAttribute("unselectable","on");$0n.className=this.$2b("_event_bar");$0n.style.position="absolute";if($o.barBackColor){$0n.style.backgroundColor=$o.barBackColor;};var $0o=document.createElement("div");$0o.setAttribute("unselectable","on");$0o.className=this.$2b("_event_bar_inner");$0o.style.top=$0l+"%";if(0<$0m&&$0m<=1){$0o.style.height="1px";}else{$0o.style.height=$0m+"%";};if($o.barColor){$0o.style.backgroundColor=$o.barColor;};$0n.appendChild($0o);$Y.appendChild($0n);};if($b.eventDeleteHandling!=="Disabled"){var $0p=document.createElement("div");$0p.style.position="absolute";$0p.style.right="2px";$0p.style.top="2px";$0p.style.width="17px";$0p.style.height="17px";$0p.className=$b.$2b("_event_delete");$0p.onclick=function(ev){var e=this.parentNode.event;if(e){$b.$2s(e);}};$0p.style.display="none";$Y.deleteIcon=$0p;$Y.appendChild($0p);};if($0c.rows[0].cells[e.part.dayIndex]){var $0q=$0c.rows[0].cells[e.part.dayIndex].firstChild;$0q.appendChild($Y);$b.$2A($Y);};$b.elements.events.push($Y);};this.$2A=function(el){var c=(el&&el.childNodes)?el.childNodes.length:0;for(var i=0;i<c;i++){try{var $0r=el.childNodes[i];if($0r.nodeType===1){$0r.unselectable='on';this.$2A($0r);}}catch(e){}}};this.$2l=function(){for(var i=0;i<this.columns.length;i++){var $0s=this.columns[i];if(!$0s.blocks){continue;};for(var m=0;m<$0s.blocks.length;m++){var $01=$0s.blocks[m];for(var j=0;j<$01.lines.length;j++){var $04=$01.lines[j];for(var k=0;k<$04.length;k++){var e=$04[k];e.part.width=100/$01.lines.length;e.part.left=e.part.width*j;var $0t=(j===$01.lines.length-1);if(!$0t){e.part.width=e.part.width*1.5;};this.$2z(e);}}}}};this.$2B=function(){this.nav.top.innerHTML='';if(this.$1Y){DayPilot.Util.addClass(this.nav.top,this.$2b("_main"));}else{this.nav.top.style.lineHeight="1.2";this.nav.top.style.textAlign="left";};this.nav.top.style.MozUserSelect='none';this.nav.top.style.KhtmlUserSelect='none';this.nav.top.style.position='relative';this.nav.top.style.width=this.width?this.width:'100%';if(this.hideUntilInit){this.nav.top.style.visibility='hidden';};if(!this.visible){this.nav.top.style.display="none";};this.nav.scroll=document.createElement("div");this.nav.scroll.style.height=this.$2C()+"px";if(this.heightSpec==='BusinessHours'){this.nav.scroll.style.overflow="auto";}else{this.nav.scroll.style.overflow="hidden";};this.nav.scroll.style.position="relative";if(!this.$1Y){};var $0u=this.$2D();this.nav.top.appendChild($0u);this.nav.scroll.style.zoom=1;var $0v=this.$2E();this.nav.scrollable=$0v.firstChild;this.nav.scroll.appendChild($0v);this.nav.top.appendChild(this.nav.scroll);this.nav.scrollLayer=document.createElement("div");this.nav.scrollLayer.style.position='absolute';this.nav.scrollLayer.style.top='0px';this.nav.scrollLayer.style.left='0px';this.nav.top.appendChild(this.nav.scrollLayer);this.nav.loading=document.createElement("div");this.nav.loading.style.position='absolute';this.nav.loading.style.top='0px';this.nav.loading.style.left=(this.hourWidth+5)+"px";this.nav.loading.style.backgroundColor=this.loadingLabelBackColor;this.nav.loading.style.fontSize=this.loadingLabelFontSize;this.nav.loading.style.fontFamily=this.loadingLabelFontFamily;this.nav.loading.style.color=this.loadingLabelFontColor;this.nav.loading.style.padding='2px';this.nav.loading.innerHTML=this.loadingLabelText;this.nav.loading.style.display='none';this.nav.top.appendChild(this.nav.loading);};this.$2j=function(){if(!this.fasterDispose)DayPilot.pu(this.nav.hourTable);this.nav.scrollable.rows[0].cells[0].innerHTML='';this.nav.hourTable=this.$2F();this.nav.scrollable.rows[0].cells[0].appendChild(this.nav.hourTable);};this.$2E=function(){var $0w=document.createElement("div");$0w.style.zoom=1;$0w.style.position='relative';var $0x=document.createElement("table");$0x.cellSpacing="0";$0x.cellPadding="0";$0x.border="0";$0x.style.border="0px none";$0x.style.width="100%";$0x.style.position='absolute';var r=$0x.insertRow(-1);var c;c=r.insertCell(-1);c.valign="top";c.style.padding='0px';c.style.border='0px none';this.nav.hourTable=this.$2F();c.appendChild(this.nav.hourTable);c=r.insertCell(-1);c.valign="top";c.width="100%";c.style.padding='0px';c.style.border='0px none';if(!this.$1Y){c.appendChild(this.$2G());}else{var $0v=document.createElement("div");$0v.style.position="relative";c.appendChild($0v);$0v.appendChild(this.$2G());$0v.appendChild(this.$2H());};$0w.appendChild($0x);this.nav.zoom=$0w;return $0w;};this.$2G=function(){var $0x=document.createElement("table");$0x.cellPadding="0";$0x.cellSpacing="0";$0x.border="0";$0x.style.width="100%";$0x.style.border="0px none";$0x.style.tableLayout='fixed';if(!this.$1Y){$0x.style.borderLeft="1px solid "+this.borderColor;};this.nav.main=$0x;this.nav.events=$0x;return $0x;};this.$2H=function(){var $0x=document.createElement("table");$0x.style.top="0px";$0x.cellPadding="0";$0x.cellSpacing="0";$0x.border="0";$0x.style.position="absolute";$0x.style.width="100%";$0x.style.border="0px none";$0x.style.tableLayout='fixed';this.nav.events=$0x;var $0y=true;var $06=this.columns;var cl=$06.length;var r=($0y)?$0x.insertRow(-1):$0x.rows[0];for(var j=0;j<cl;j++){var c=($0y)?r.insertCell(-1):r.cells[j];if($0y){c.style.padding='0px';c.style.border='0px none';c.style.height='0px';c.style.overflow='visible';if(!$b.rtl){c.style.textAlign='left';};var $Y=document.createElement("div");$Y.style.marginRight=$b.columnMarginRight+"px";$Y.style.position='relative';$Y.style.height='1px';if(!this.$1Y){$Y.style.fontSize='1px';$Y.style.lineHeight='1.2';};$Y.style.marginTop='-1px';c.appendChild($Y);}};return $0x;};this.$2F=function(){var $0x=document.createElement("table");$0x.cellSpacing="0";$0x.cellPadding="0";$0x.border="0";$0x.style.border='0px none';$0x.style.width=this.hourWidth+"px";$0x.oncontextmenu=function(){return false;};var $0z=this.$1Y?0:1;if($0z){var r=$0x.insertRow(-1);r.style.height="1px";r.style.backgroundColor="white";var c=r.insertCell(-1);c.style.padding='0px';c.style.border='0px none';};var $0A=24;for(var i=0;i<$0A;i++){this.$2I($0x,i);};return $0x;};this.$2I=function($0x,i){var $g=(this.cellHeight*2);var r=$0x.insertRow(-1);r.style.height=$g+"px";var c=r.insertCell(-1);c.valign="bottom";c.unselectable="on";if(!this.$1Y){};c.style.cursor="default";c.style.padding='0px';c.style.border='0px none';var $0B=document.createElement("div");$0B.style.position="relative";if(this.$1Y){$0B.className=this.$2b("_rowheader");};$0B.style.width=this.hourWidth+"px";$0B.style.height=($g)+"px";$0B.style.overflow='hidden';$0B.unselectable='on';var $01=document.createElement("div");if(this.$1Y){$01.className=this.$2b("_rowheader_inner");}else{};$01.style.height=($g-1)+"px";$01.unselectable="on";var $0C=document.createElement("div");$0C.unselectable="on";var $K=this.startDate.addHours(i);var $0D=$K.getHours();var am=$0D<12;var $0E=$A.timeFormat();if($0E==="Clock12Hours"){$0D=$0D%12;if($0D===0){$0D=12;}};$0C.innerHTML=$0D;var $0F=document.createElement("span");$0F.unselectable="on";if(!this.$1Y){$0F.style.fontSize="10px";$0F.style.verticalAlign="super";}else{$0F.className=this.$2b("_rowheader_minutes");};var $0G;if($0E==="Clock12Hours"){if(am){$0G="AM";}else{$0G="PM";}}else{$0G="00";};if(!this.$1Y){$0F.innerHTML="&nbsp;"+$0G;}else{$0F.innerHTML=$0G;};$0C.appendChild($0F);$01.appendChild($0C);$0B.appendChild($01);c.appendChild($0B);};this.$2C=function(){switch(this.heightSpec){case "Full":return(24*2*this.cellHeight);case "BusinessHours":var $0H=this.$2n();return $0H*this.cellHeight*2;case "BusinessHoursNoScroll":var $0H=this.$2n();return $0H*this.cellHeight*2;default:throw "DayPilot.Calendar: Unexpected 'heightSpec' value.";}};this.$2J=function(){var parent=$b.nav.corner?$b.nav.corner.parentNode:null;if(!parent){return;};parent.innerHTML='';var $0I=this.$2K();parent.appendChild($0I);$b.nav.corner=$0I;};this.$2D=function(){var $0u=document.createElement("div");if(!this.$1Y){$0u.style.borderLeft="1px solid "+this.borderColor;$0u.style.borderRight="1px solid "+this.borderColor;};$0u.style.overflow="auto";var $0x=document.createElement("table");$0x.cellPadding="0";$0x.cellSpacing="0";$0x.border="0";$0x.style.width="100%";$0x.style.borderCollapse='separate';$0x.style.border="0px none";var r=$0x.insertRow(-1);var c=r.insertCell(-1);c.style.padding='0px';c.style.border='0px none';var $0I=this.$2K();c.appendChild($0I);this.nav.corner=$0I;c=r.insertCell(-1);c.style.width="100%";if(!this.$1Y){};c.valign="top";c.style.position='relative';c.style.padding='0px';c.style.border='0px none';this.nav.header=document.createElement("table");this.nav.header.cellPadding="0";this.nav.header.cellSpacing="0";this.nav.header.border="0";this.nav.header.width="100%";this.nav.header.style.tableLayout="fixed";if(!this.$1Y){this.nav.header.style.borderBottom="0px none #000000";this.nav.header.style.borderRight="0px none #000000";this.nav.header.style.borderLeft="1px solid "+this.borderColor;this.nav.header.style.borderTop="1px solid "+this.borderColor;};this.nav.header.oncontextmenu=function(){return false;};var $0J=this.nav.scroll.style.overflow!=='hidden';if(!this.$1Y){if($0J){this.nav.header.style.borderRight="1px solid "+this.borderColor;}};c.appendChild(this.nav.header);if($0J){c=r.insertCell(-1);c.unselectable="on";if(!this.$1Y){};var $0K=document.createElement("div");$0K.unselectable="on";$0K.style.position="relative";$0K.style.width="16px";if(!this.$1Y){}else{$0K.style.height=this.headerHeight+"px";$0K.className=this.$2b("_cornerright");var $y=document.createElement("div");$y.className=this.$2b('_cornerright_inner');$0K.appendChild($y);};c.appendChild($0K);this.nav.cornerRight=$0K;};$0u.appendChild($0x);return $0u;};this.$2K=function(){var $0v=document.createElement("div");$0v.style.position='relative';if(this.$1Y){$0v.className=this.$2b("_corner");}else{};$0v.style.width=this.hourWidth+"px";$0v.style.height=this.headerHeight+"px";$0v.oncontextmenu=function(){return false;};var $0I=document.createElement("div");$0I.unselectable="on";if(this.$1Y){$0I.className=this.$2b("_corner_inner");};$0v.appendChild($0I);return $0v;};this.$27=function(){var $0x=this.nav.main;$0x.root=null;$0x.onmouseup=null;for(var y=0;y<$0x.rows.length;y++){var r=$0x.rows[y];for(var x=0;x<r.cells.length;x++){var c=r.cells[x];c.root=null;c.onmousedown=null;c.onmousemove=null;c.onmouseout=null;c.onmouseup=null;}};if(!this.fasterDispose)DayPilot.pu($0x);};this.$2i=function(){var $0L=[];var $0M=[];var $0x=this.nav.main;var $M=30*60*1000;var $0N=this.$2o();var $06=$b.columns;var $0y=true;if($0x){this.$27();}while($0x&&$0x.rows&&$0x.rows.length>0&&$0y){if(!this.fasterDispose){DayPilot.pu($0x.rows[0]);};$0x.deleteRow(0);};this.tableCreated=true;var cl=$06.length;if(this.$1Y){var $0O=this.nav.events;while($0O&&$0O.rows&&$0O.rows.length>0&&$0y){if(!this.fasterDispose){DayPilot.pu($0O.rows[0]);};$0O.deleteRow(0);};var cl=$06.length;var r=($0y)?$0O.insertRow(-1):$0O.rows[0];for(var j=0;j<cl;j++){var c=($0y)?r.insertCell(-1):r.cells[j];if($0y){c.style.padding='0px';c.style.border='0px none';c.style.height='0px';c.style.overflow='visible';if(!$b.rtl){c.style.textAlign='left';};var $Y=document.createElement("div");$Y.style.marginRight=$b.columnMarginRight+"px";$Y.style.position='relative';$Y.style.height='1px';if(!this.$1Y){$Y.style.fontSize='1px';$Y.style.lineHeight='1.2';};$Y.style.marginTop='-1px';c.appendChild($Y);}}};if(!this.$1Y){var r=($0y)?$0x.insertRow(-1):$0x.rows[0];if($0y){r.style.backgroundColor='white';};for(var j=0;j<cl;j++){var c=($0y)?r.insertCell(-1):r.cells[j];if($0y){c.style.padding='0px';c.style.border='0px none';c.style.height='1px';c.style.overflow='visible';c.style.width=(100.0/$06.length)+"%";var $Y=document.createElement("div");$Y.style.display='block';$Y.style.marginRight=$b.columnMarginRight+"px";$Y.style.position='relative';$Y.style.height='1px';$Y.style.fontSize='1px';$Y.style.lineHeight='1.2';$Y.style.marginTop='-1px';c.appendChild($Y);}}};for(var i=0;i<$0N;i++){var $0z=this.$1Y?0:1;var r=($0y)?$0x.insertRow(-1):$0x.rows[i+$0z];if($0y){r.style.MozUserSelect='none';r.style.KhtmlUserSelect='none';};for(var j=0;j<cl;j++){var $0s=this.columns[j];var c=($0y)?r.insertCell(-1):r.cells[j];c.start=$0s.Start.addTime(i*$M);c.end=c.start.addTime($M);c.onmousedown=this.$2t;c.onmousemove=this.$2v;c.onmouseup=function(){return false;};c.onclick=function(){return false;};if($0y){c.root=this;c.style.padding='0px';c.style.border='0px none';c.style.verticalAlign='top';if(!this.$1Y){};c.style.height=$b.cellHeight+'px';c.style.overflow='hidden';c.unselectable='on';if(!this.$1Y){}else{var $Y=document.createElement("div");$Y.unselectable='on';$Y.style.height=$b.cellHeight+"px";$Y.style.position="relative";$Y.className=this.$2b("_cell");var $0P=this.$2L(c.start,c.end);if($0P&&this.$1Y){DayPilot.Util.addClass($Y,$b.$2b("_cell_business"));};var $y=document.createElement("div");$y.setAttribute("unselectable","on");$y.className=this.$2b("_cell_inner");$Y.appendChild($y);c.appendChild($Y);};c.appendChild($Y);};$0Q=c.firstChild;}};$0x.onmouseup=this.$2w;$0x.root=this;$b.nav.scrollable.onmousemove=function(ev){ev=ev||window.event;var $0R=$b.nav.scrollable;$b.coords=DayPilot.mo3($0R,ev);var $Z=DayPilot.mc(ev);if(DayPilotCalendar.resizing){if(!DayPilotCalendar.resizingShadow){DayPilotCalendar.resizingShadow=$b.$2a(DayPilotCalendar.resizing,false,$b.shadow);};var $0S=$b.cellHeight;var $J=1;var $0T=($Z.y-DayPilotCalendar.originalMouse.y);if(DayPilotCalendar.resizing.dpBorder==='bottom'){var $0U=Math.floor(((DayPilotCalendar.originalHeight+DayPilotCalendar.originalTop+$0T)+$0S/ 2)/ $0S)*$0S-DayPilotCalendar.originalTop+$J;if($0U<$0S)$0U=$0S;var $05=$b.nav.main.clientHeight;if(DayPilotCalendar.originalTop+$0U>$05)$0U=$05-DayPilotCalendar.originalTop;DayPilotCalendar.resizingShadow.style.height=($0U)+'px';}else if(DayPilotCalendar.resizing.dpBorder==='top'){var $0V=Math.floor(((DayPilotCalendar.originalTop+$0T-$J)+$0S/ 2)/ $0S)*$0S+$J;if($0V<$J){$0V=$J;};if($0V>DayPilotCalendar.originalTop+DayPilotCalendar.originalHeight-$0S){$0V=DayPilotCalendar.originalTop+DayPilotCalendar.originalHeight-$0S;};var $0U=DayPilotCalendar.originalHeight-($0V-DayPilotCalendar.originalTop);if($0U<$0S){$0U=$0S;}else{DayPilotCalendar.resizingShadow.style.top=$0V+'px';};DayPilotCalendar.resizingShadow.style.height=($0U)+'px';}}else if(DayPilotCalendar.moving){if(!DayPilotCalendar.movingShadow){DayPilotCalendar.movingShadow=$b.$2a(DayPilotCalendar.moving,!$b._ie,$b.shadow);DayPilotCalendar.movingShadow.style.width=(DayPilotCalendar.movingShadow.parentNode.offsetWidth+1)+'px';};if(!$b.coords){return;};var $0S=$b.cellHeight;var $J=1;var $0i=DayPilotCalendar.moveOffsetY;if(!$0i){$0i=$0S/2;};var $0V=Math.floor((($b.coords.y-$0i-$J)+$0S/ 2)/ $0S)*$0S+$J;if($0V<$J){$0V=$J;};var $0c=$b.nav.events;var $05=$b.nav.main.clientHeight;var $g=parseInt(DayPilotCalendar.movingShadow.style.height);if($0V+$g>$05){$0V=$05-$g;};DayPilotCalendar.movingShadow.parentNode.style.display='none';DayPilotCalendar.movingShadow.style.top=$0V+'px';DayPilotCalendar.movingShadow.parentNode.style.display='';var $0W=$0c.clientWidth/$0c.rows[0].cells.length;var $l=Math.floor(($b.coords.x-45)/$0W);if($l<0){$l=0;};if($l<$0c.rows[0].cells.length&&$l>=0&&DayPilotCalendar.movingShadow.column!==$l){DayPilotCalendar.movingShadow.column=$l;DayPilotCalendar.moveShadow($0c.rows[0].cells[$l]);}}};$b.nav.scrollable.style.display='';};this.$2L=function($K,end){if(this.businessBeginsHour<this.businessEndsHour){return !($K.getHours()<this.businessBeginsHour||$K.getHours()>=this.businessEndsHour||$K.getDayOfWeek()===6||$K.getDayOfWeek()===0);};if($K.getHours()>=this.businessBeginsHour){return true;};if($K.getHours()<this.businessEndsHour){return true;};return false;};this.$28=function(){var $0x=this.nav.header;if($0x&&$0x.rows){for(var y=0;y<$0x.rows.length;y++){var r=$0x.rows[y];for(var x=0;x<r.cells.length;x++){var c=r.cells[x];c.onclick=null;c.onmousemove=null;c.onmouseout=null;}}};if(!this.fasterDispose)DayPilot.pu($0x);};this.$2M=function($0y){var r=($0y)?this.nav.header.insertRow(-1):this.nav.header.rows[0];var $06=this.columns;var $0X=$06.length;for(var i=0;i<$0X;i++){var $o=$06[i];var $c=($0y)?r.insertCell(-1):r.cells[i];$c.data=$o;$c.style.overflow='hidden';$c.style.padding='0px';$c.style.border='0px none';$c.style.height=(this.headerHeight)+"px";var $Y=($0y)?document.createElement("div"):$c.firstChild;if($0y){$Y.unselectable='on';$Y.style.MozUserSelect='none';$Y.style.backgroundColor=$o.BackColor;$Y.style.cursor='default';$Y.style.position='relative';if(!this.$1Y){}else{$Y.className=$b.$2b('_colheader');};$Y.style.height=this.headerHeight+"px";var $0C=document.createElement("div");if(!this.$1Y){$0C.style.position='absolute';$0C.style.left='0px';$0C.style.width='100%';$0C.style.padding="2px";$Y.style.textAlign='center';}else{$0C.className=$b.$2b('_colheader_inner');};$0C.unselectable='on';$Y.appendChild($0C);$c.appendChild($Y);};var $0C=$Y.firstChild;$0C.innerHTML=$o.InnerHTML;}};this.$2N=function(){if(this.width&&this.width.indexOf("px")!==-1){return "Pixel";};return "Percentage";};this.$2h=function(){var $0u=this.nav.header;var $0y=true;var $06=this.columns;var $0X=$06.length;while(this.headerCreated&&$0u&&$0u.rows&&$0u.rows.length>0&&$0y){if(!this.fasterDispose)DayPilot.pu($0u.rows[0]);$0u.deleteRow(0);};this.headerCreated=true;if(!$0y){var $0I=$b.nav.corner;if(!this.$1Y){$0I.style.backgroundColor=$b.cornerBackColor;};if(!this.fasterDispose)DayPilot.pu($0I.firstChild);};this.$2M($0y);};this.loadingStart=function(){if(this.loadingLabelVisible){this.nav.loading.innerHTML=this.loadingLabelText;this.nav.loading.style.top=(this.headerHeight+5)+"px";this.nav.loading.style.display='';}};this.commandCallBack=function($0Y,$o){var $G={};$G.command=$0Y;this.$23('Command',$o,$G);};this.loadingStop=function($0Z){if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};this.nav.loading.style.display='none';};this.$2O=function(){var $10=this.nav.scroll;if(!$10.onscroll){$10.onscroll=function(){$b.$2P();};};var $11=(typeof this.$2Q.scrollpos!=='undefined')?this.$2Q.scrollpos:this.initScrollPos;if(!$11){return;};if($11==='Auto'){if(this.heightSpec==="BusinessHours"){$11=2*this.cellHeight*this.businessBeginsHour;}else{$11=0;}};$10.root=this;if($10.scrollTop===0){$10.scrollTop=$11;}};this.callbackError=function($s,$t){alert("Error!\r\nResult: "+$s+"\r\nContext:"+$t);};this.$2R=function(){var w=DayPilot.sw(this.nav.scroll);var d=this.nav.cornerRight;if(d&&w>0){if(this.$1Y){d.style.width=w+'px';}else{d.style.width=(w-3)+'px';}}};this.$2S=function(){if(!DayPilotCalendar.globalHandlers){DayPilotCalendar.globalHandlers=true;DayPilot.re(document,'mouseup',DayPilotCalendar.gMouseUp);DayPilot.re(window,'unload',DayPilotCalendar.gUnload);}};this.events={};this.events.add=function(e){e.calendar=$b;if(!$b.events.list){$b.events.list=[];};$b.events.list.push(e.data);$b.update();$b.$2r.notify();};this.events.update=function(e){e.commit();$b.update();$b.$2r.notify();};this.events.remove=function(e){var $12=DayPilot.indexOf($b.events.list,e.data);$b.events.list.splice($12,1);$b.update();$b.$2r.notify();};this.events.load=function($13,$14,$15){var $16=function($D){var $17={};$17.exception=$D.exception;$17.request=$D.request;if(typeof $15==='function'){$15($17);}};var $18=function($D){var r=$D.request;var $o;try{$o=JSON.parse(r.responseText);}catch(e){var $19={};$19.exception=e;$16($19);return;};if(DayPilot.isArray($o)){var $1a={};$1a.preventDefault=function(){this.preventDefault.value=true;};$1a.data=$o;if(typeof $14==="function"){$14($1a);};if($1a.preventDefault.value){return;};$b.events.list=$o;if($b.$2T){$b.update();}}};var $1b=$b.eventsLoadMethod&&$b.eventsLoadMethod.toUpperCase()==="POST";if($1b){DayPilot.Http.ajax({"method":"POST","data":{"start":$b.visibleStart().toString(),"end":$b.visibleEnd().toString()},"url":$13,"success":$18,"error":$16});}else{var $1c=$13;var $1d="start="+$b.visibleStart().toString()+"&end="+$b.visibleEnd().toString();if($1c.indexOf("?")>-1){$1c+="&"+$1d;}else{$1c+="?"+$1d;};DayPilot.Http.ajax({"method":"GET","url":$1c,"success":$18,"error":$16});}};this.update=function(){$b.$2U();$b.$2V();$b.$26();$b.nav.top.style.cursor="auto";var $1e=true;if($1e){$b.$2e();$b.$2h();$b.$2i();$b.$2j();$b.$2k();$b.$2J();$b.$2W();};$b.$2f();$b.$2g();$b.$2d();$b.$2l();$b.clearSelection();if(this.visible){this.show();}else{this.hide();}};this.$2X=function(){if(this.id&&this.id.tagName){this.nav.top=this.id;}else if(typeof this.id==="string"){this.nav.top=document.getElementById(this.id);if(!this.nav.top){throw "DayPilot.Calendar: The placeholder element not found: '"+id+"'.";}}else{throw "DayPilot.Calendar() constructor requires the target element or its ID as a parameter";}};this.$2Y={};this.$2Y.events=[];this.$2Z=function(i){var $1f=this.$2Y.events;var $o=this.events.list[i];var $1g={};for(var name in $o){$1g[name]=$o[name];};if(typeof this.onBeforeEventRender==='function'){var $D={};$D.data=$1g;this.onBeforeEventRender($D);};$1f[i]=$1g;};this.$2f=function(){var $0O=this.events.list;$b.$2Y.events=[];if(!$0O){return;};var length=$0O.length;var $1h=24*60*60*1000;this.cache.pixels={};var $1i=[];this.scrollLabels=[];this.minStart=10000;this.maxEnd=0;for(var i=0;i<length;i++){var e=$0O[i];e.start=new DayPilot.Date(e.start);e.end=new DayPilot.Date(e.end);};if(typeof this.onBeforeEventRender==='function'){for(var i=0;i<length;i++){this.$2Z(i);}};for(var i=0;i<this.columns.length;i++){var scroll={};scroll.minEnd=1000000;scroll.maxStart=-1;this.scrollLabels.push(scroll);var $0s=this.columns[i];$0s.events=[];$0s.lines=[];$0s.blocks=[];var $1j=new DayPilot.Date($0s.Start);var $1k=$1j.getTime();var $1l=$1j.addTime($1h);var $1m=$1l.getTime();for(var j=0;j<length;j++){if($1i[j]){continue;};var e=$0O[j];var $K=e.start;var end=e.end;var $1n=$K.getTime();var $1o=end.getTime();if($1o<$1n){continue;};var $1p=!($1o<=$1k||$1n>=$1m);if($1p){var ep=new DayPilot.Event(e,$b);ep.part.dayIndex=i;ep.part.start=$1k<$1n?e.start:$1j;ep.part.end=$1m>$1o?e.end:$1l;var $1q=this.getPixels(ep.part.start,$0s.Start);var $1r=this.getPixels(ep.part.end,$0s.Start);var top=$1q.top;var $1s=$1r.top;if(top===$1s&&($1q.cut||$1r.cut)){continue;};var $1t=$1r.boxBottom;ep.part.top=Math.floor(top/this.cellHeight)*this.cellHeight+1;ep.part.height=Math.max(Math.ceil($1t/this.cellHeight)*this.cellHeight-ep.part.top,this.cellHeight-1)+1;ep.part.barTop=Math.max(top-ep.part.top-1,0);ep.part.barHeight=Math.max($1s-top-2,1);var $K=ep.part.top;var end=ep.part.top+ep.part.height;if($K>scroll.maxStart){scroll.maxStart=$K;};if(end<scroll.minEnd){scroll.minEnd=end;};if($K<this.minStart){this.minStart=$K;};if(end>this.maxEnd){this.maxEnd=end;};$0s.events.push(ep);if(typeof this.onBeforeEventRender==='function'){ep.cache=this.$2Y.events[j];};if(ep.part.start.getTime()===$1n&&ep.part.end.getTime()===$1o){$1i[j]=true;}}}};for(var i=0;i<this.columns.length;i++){var $0s=this.columns[i];$0s.events.sort(this.$30);for(var j=0;j<$0s.events.length;j++){var e=$0s.events[j];$0s.putIntoBlock(e);};for(var j=0;j<$0s.blocks.length;j++){var $01=$0s.blocks[j];$01.events.sort(this.$30);for(var k=0;k<$01.events.length;k++){var e=$01.events[k];$01.putIntoLine(e);}}}};this.$30=function(a,b){if(!a||!b||!a.start||!b.start){return 0;};var $1u=a.start().getTime()-b.start().getTime();if($1u!==0){return $1u;};var $1v=b.end().getTime()-a.end().getTime();return $1v;};this.debug=function($0Z,$1w){if(!this.debuggingEnabled){return;};if(!$b.debugMessages){$b.debugMessages=[];};$b.debugMessages.push($0Z);if(typeof console!=='undefined'){console.log($0Z);}};this.getPixels=function($S,$K){if(!$K)$K=this.startDate;var $1n=$K.getTime();var $1x=$S.getTime();var $1f=this.cache.pixels[$1x+"_"+$1n];if($1f){return $1f;};$1n=$K.getTime();var $1y=30*60*1000;var $1z=$1x-$1n;var $1A=$1z%$1y;var $1B=$1z-$1A;var $1C=$1B+$1y;if($1A===0){$1C=$1B;};var $s={};$s.cut=false;$s.top=this.$31($1z);$s.boxTop=this.$31($1B);$s.boxBottom=this.$31($1C);this.cache.pixels[$1x+"_"+$1n]=$s;return $s;};this.$31=function($1x){return Math.floor((this.cellHeight*$1x)/(1000*60*30));};this.$2V=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart();};this.$2g=function(){if(this.nav.corner){this.nav.corner.style.height=this.headerHeight+"px";}};this.$2k=function(){var sh=this.$2C();if(this.nav.scroll&&sh>0){this.nav.scroll.style.height=sh+"px";}};this.$2r={};this.$2r.scope=null;this.$2r.notify=function(){if($b.$2r.scope){$b.$2r.scope["$apply"]();}};this.$2r.apply=function(f){f();};this.$2P=function(){var top=$b.nav.scroll.scrollTop;var $1D=top/(2*$b.cellHeight);$b.$2Q.scrollHour=$1D;};this.$2W=function(){var $11=0;if($b.$2Q.scrollHour){$11=2*$b.cellHeight*$b.$2Q.scrollHour;}else{if($b.initScrollPos==='Auto'){if(this.heightSpec==="BusinessHours"){$11=2*this.cellHeight*this.businessBeginsHour;}else{$11=0;}}};$b.nav.scroll.scrollTop=$11;};this.$32=function(){if(this.backendUrl||typeof WebForm_DoCallback==='function'){return(typeof $b.events.list==='undefined')||(!$b.events.list);}else{return false;}};this.$2d=function(){if(this.nav.top.style.visibility==='hidden'){this.nav.top.style.visibility='visible';}};this.show=function(){$b.visible=true;$b.nav.top.style.display='';};this.hide=function(){$b.visible=false;$b.nav.top.style.display='none';};this.$33=function(){this.$2V();this.$2e();this.$2B();this.$2h();this.$2i();this.$2R();this.$2O();this.$2S();DayPilotCalendar.register(this);this.$34();this.$23('Init');};this.$2Q={};this.$35=function(){this.$2Q.themes=[];this.$2Q.themes.push(this.theme||this.cssClassPrefix);};this.$36=function(){var $1E=this.$2Q.themes;for(var i=0;i<$1E.length;i++){var $1F=$1E[i];DayPilot.Util.removeClass(this.nav.top,$1F+"_main");};this.$2Q.themes=[];};this.$37=function(){this.afterRender(null,false);if(typeof this.onAfterRender==="function"){var $D={};$D.isCallBack=false;this.onAfterRender($D);}};this.$38=function(){if(typeof this.onInit==="function"&&!this.$39){this.$39=true;var $D={};this.onInit($D);}};this.$2U=function(){if(!$b.$1Y){$b.$1Y=true;window.console&&window.console.log&&window.console.log("DayPilot: cssOnly = false mode is not supported anymore.");}};this.$3a=function(){var el=$b.nav.top;return el.offsetWidth>0&&el.offsetHeight>0;};this.$34=function(){var $1G=$b.$3a;if(!$1G()){$b.$3b=setInterval(function(){if($1G()){$b.$2O();$b.$2R();clearInterval($b.$3b);}},100);}};this.init=function(){this.$2X();var $1H=this.$32();this.$2U();this.$35();if($1H){this.$33();return;};this.$2V();this.$2e();this.$2f();this.$2B();this.$2h();this.$2i();this.$2d();this.$2R();this.$2O();this.$2S();DayPilotCalendar.register(this);if(this.events){this.$2g();this.$2l();};this.$37();this.$38();this.$34();this.$2T=true;};this.Init=this.init;};DayPilotCalendar.Cell=function($K,end,$l){this.start=$K;this.end=end;this.column=function(){};};DayPilotCalendar.Column=function($1I,name,$S){this.value=$1I;this.name=name;this.date=new DayPilot.Date($S);};DayPilot.Calendar=DayPilotCalendar.Calendar;if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotCalendar=function($1J){var $1K=null;var j=this.each(function(){if(this.daypilot){return;};var $1L=new DayPilot.Calendar(this.id);this.daypilot=$1L;for(name in $1J){$1L[name]=$1J[name];};$1L.init();if(!$1K){$1K=$1L;}});if(this.length===1){return $1K;}else{return j;}};})(jQuery);};(function registerAngularModule(){var $1M=DayPilot.am();if(!$1M){return;};$1M.directive("daypilotCalendar",['$parse',function($1N){return{"restrict":"E","template":"<div></div>","replace":true,"link":function($1O,element,$1P){var $b=new DayPilot.Calendar(element[0]);$b.$2r.scope=$1O;$b.init();var $1Q=$1P["id"];if($1Q){$1O[$1Q]=$b;};var $1R=$1P["publishAs"];if($1R){var getter=$1N($1R);var setter=getter.assign;setter($1O,$b);};for(var name in $1P){if(name.indexOf("on")===0){(function(name){$b[name]=function($D){var f=$1N($1P[name]);$1O["$apply"](function(){f($1O,{"args":$D});});};})(name);}};var $1S=$1O["$watch"];var $1T=$1P["config"]||$1P["daypilotConfig"];var $0O=$1P["events"]||$1P["daypilotEvents"];$1S.call($1O,$1T,function($1I){for(var name in $1I){$b[name]=$1I[name];};$b.update();$b.$38();},true);$1S.call($1O,$0O,function($1I){$b.events.list=$1I;$b.update();},true);}};}]);})();})();


